<div class="main-menu">
    <nav>
        <ul>
            <ng-container *ngFor="let link of links">


                <li [ngClass]="{
                    'top-hover': true, 
                    'mega-menu-position': link.type === 'megamenu'
                }">

                    <a *ngIf="link.routerLinkOptions" routerLink="{{link.route}}"  [innerHTML]="link.title" routerLinkActive="active" [routerLinkActiveOptions]="link.routerLinkOptions" [class.disabled]="link.route == '_hover'"></a>
                    
                    <a *ngIf="!link.routerLinkOptions" routerLink="{{link.route}}"  [innerHTML]="link.title" routerLinkActive="active"></a>


                
                    <ng-container [ngSwitch]="link.type">

                        <!-- --- MEGAMENU --- -->
                        <ul class="mega-menu" *ngSwitchCase="'megamenu'">
                            <li *ngFor="let child of link.children">
                                <ul>
                                    <li class="mega-menu-title" [innerHTML]="child.title"></li>

                                    <ng-container *ngIf="child.children">
                                        <li  *ngFor="let sublink of child.children">
                                            <a routerLink="{{sublink.route}}" [innerHTML]="sublink.title" routerLinkActive="active"></a>
                                        </li>
                                    </ng-container>

                                </ul>
                            </li>
                        </ul>


                        <!-- --- SUBMENU --- -->
                        <ul class="submenu" *ngSwitchCase="'submenu'">
                            <li *ngFor="let sublink of link.children">
                                <a routerLink="{{sublink.route}}" [innerHTML]="sublink.title" routerLinkActive="active"></a>
                            </li>
                        </ul>


                    </ng-container>


                    

                </li>
            </ng-container>
        </ul>
    </nav>
</div>

